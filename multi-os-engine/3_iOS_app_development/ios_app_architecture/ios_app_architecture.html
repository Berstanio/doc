

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>iOS application developing approach &mdash; Multi-OS Engine Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Multi-OS Engine Documentation" href="../../../index.html"/>
        <link rel="up" title="iOS apps development" href="../iOS_app_development.html"/>
        <link rel="next" title="Using iOS Frameworks and 3rd party libraries" href="../using_ios_frameworks/using_ios_frameworks.html"/>
        <link rel="prev" title="iOS apps development" href="../iOS_app_development.html"/>
     
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75001976-1', 'auto');
  ga('send', 'pageview');

</script>


  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Multi-OS Engine Documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../MultiOSEngine.html">Multi-OS Engine</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../1_getting_started/Getting_Started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../2_natj/NatJ.html">Nat/J library for Java to native binding</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../iOS_app_development.html">iOS apps development</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">iOS application developing approach</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#first-step-create-uiapplicationdelegate">First step: Create UIApplicationDelegate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#second-step-create-uiviewcontroller">Second step: Create UIViewController</a></li>
<li class="toctree-l4"><a class="reference internal" href="#third-step-instantiate-uiviewcontroller">Third step: Instantiate UIViewController</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../using_ios_frameworks/using_ios_frameworks.html">Using iOS Frameworks and 3rd party libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging/Logging.html">Logging Alternatives for the Intel Multi-OS Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../6_moe_architecture/MOE_Architecture.html">Multi-OS Engine Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../7_Troubleshooting/troubleshooting.html">Known issues and troubleshooting</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Multi-OS Engine Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../MultiOSEngine.html">Multi-OS Engine</a> &raquo;</li>
      
          <li><a href="../iOS_app_development.html">iOS apps development</a> &raquo;</li>
      
    <li>iOS application developing approach</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ios-application-developing-approach">
<h1>iOS application developing approach<a class="headerlink" href="#ios-application-developing-approach" title="Permalink to this headline">¶</a></h1>
<p>Intel Multi OS Engine technology allows developer to use Java language for writing native iOS applications. With that MOE keep approach and methodology generally used for creating application unchanged. Developer still need to use <code class="docutils literal"><span class="pre">UIViewController</span></code> classes for handling UI elements and events but all of that can be created fully from Java. Storyboards and xib layout files also used in general way and communicate with Java written controllers.
The following tutorials are available:</p>
<p>All information about UIViewController work process can be acquired from Apple documentation. As example from this <a class="reference external" href="https://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/TheAppLifeCycle/TheAppLifeCycle.html">The iOS App Life Cycle</a> article.</p>
<p>In this paper we will demonstrate how to start iOS developing based on native <cite>UIViewControllers</cite> ideology with MOE solution.</p>
<div class="section" id="first-step-create-uiapplicationdelegate">
<h2>First step: Create UIApplicationDelegate<a class="headerlink" href="#first-step-create-uiapplicationdelegate" title="Permalink to this headline">¶</a></h2>
<p>The main entry point for all iOS application is the function UIApplicationMain witch takes name of UIAplicationDelegate as parameter and szhould be called from application main at the very beginning.  We suggest to combine UIApplicationDelegate implementation and java main static method in a one startup class.</p>
<p>Simple example of such startup class:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyAppMain</span> <span class="kd">extends</span> <span class="n">NSObject</span> <span class="kd">implements</span> <span class="n">UIApplicationDelegate</span> <span class="o">{</span>

        <span class="cm">/**</span>
<span class="cm">         * General entry point for Java language</span>
<span class="cm">         */</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">UIKit</span><span class="o">.</span><span class="na">UIApplicationMain</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">Main</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="o">}</span>

        <span class="nd">@Selector</span><span class="o">(</span><span class="s">&quot;alloc&quot;</span><span class="o">)</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">native</span> <span class="n">Main</span> <span class="nf">alloc</span><span class="o">();</span>

        <span class="kd">protected</span> <span class="nf">MyAppMain</span><span class="o">(</span><span class="n">Pointer</span> <span class="n">peer</span><span class="o">)</span> <span class="o">{</span>
                <span class="kd">super</span><span class="o">(</span><span class="n">peer</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="n">UIWindow</span> <span class="n">window</span><span class="o">;</span>

        <span class="cm">/**</span>
<span class="cm">         * Delegate method which will be called after application launch</span>
<span class="cm">         */</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">applicationDidFinishLaunchingWithOptions</span><span class="o">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="o">,</span> <span class="n">NSDictionary</span> <span class="n">launchOptions</span><span class="o">){</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setWindow</span><span class="o">(</span><span class="n">UIWindow</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">window</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">UIWindow</span> <span class="nf">window</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">window</span><span class="o">;</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Instance of MyAppMain class will be crated by iOS infrastructure and all overrides methods will be called on corresponding events. The existence of such delegate class is mandatory for any application.</p>
</div>
<div class="section" id="second-step-create-uiviewcontroller">
<h2>Second step: Create UIViewController<a class="headerlink" href="#second-step-create-uiviewcontroller" title="Permalink to this headline">¶</a></h2>
<p>View controllers are the core part of iOS application. These manage logic of UI interface and it interaction with entered data. Avery iOS application should have one or more UIViewControler classes. More detailed information can be found in this <a class="reference external" href="https://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/index.html">View Controller programming guide</a>.</p>
<p>Sample code of pure view controller:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@RegisterOnStartup</span>
<span class="nd">@ObjCClassName</span><span class="o">(</span><span class="s">&quot;MyViewController&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyViewController</span> <span class="kd">extends</span> <span class="n">UIViewController</span> <span class="o">{</span>

        <span class="nd">@Owned</span>
        <span class="nd">@Selector</span><span class="o">(</span><span class="s">&quot;alloc&quot;</span><span class="o">)</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">native</span> <span class="n">MyViewController</span> <span class="nf">alloc</span><span class="o">();</span>

        <span class="nd">@Owned</span>
        <span class="nd">@Selector</span><span class="o">(</span><span class="s">&quot;init&quot;</span><span class="o">)</span>
        <span class="kd">public</span> <span class="kd">native</span> <span class="n">MyViewController</span> <span class="nf">init</span><span class="o">();</span>

        <span class="kd">protected</span> <span class="nf">MyViewController</span><span class="o">(</span><span class="n">Pointer</span> <span class="n">peer</span><span class="o">)</span> <span class="o">{</span>
                <span class="kd">super</span><span class="o">(</span><span class="n">peer</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">viewDidLoad</span><span class="o">()</span> <span class="o">{</span>
                <span class="cm">/** Your code for view customization */</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>First three methods (alloc, init and protected constructor) are mandatory for any NSObject inheritor and well be used our binding system for accessing from Obj-C level.</p>
<p>There is possibility that controller will be instantiated be iOS UI infrastructure during parsing storyboard by the name. In that case class should be registered for Obj-C runtime in advance. For this purpose you can use next annotations:</p>
<blockquote>
<div><ul class="simple">
<li><cite>&#64;ObjCClassName</cite> to specify exact name ob ObjC representation</li>
<li><cite>&#64;RegisterOnStartup</cite> to note that class is used from native and should be loaded on startup</li>
</ul>
</div></blockquote>
<p>More additional information about binding system can be found in corresponding documentation part <a class="reference internal" href="../../2_natj/NatJ.html"><em>Nat/J</em></a>.</p>
<p>In method viewDidLoad you can customize any view elements or perform any other actions you like. For example let’s add label in center of window:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">viewDidLoad</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">view</span><span class="o">().</span><span class="na">setBackgroundColor</span><span class="o">(</span><span class="n">UIColor</span><span class="o">.</span><span class="na">grayColor</span><span class="o">());</span>


        <span class="n">UILabel</span> <span class="n">label</span> <span class="o">=</span> <span class="n">UILabel</span><span class="o">.</span><span class="na">alloc</span><span class="o">().</span><span class="na">init</span><span class="o">();</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;Hello MOE!&quot;</span><span class="o">);</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setTranslatesAutoresizingMaskIntoConstraints</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

        <span class="n">view</span><span class="o">().</span><span class="na">addSubview</span><span class="o">(</span><span class="n">label</span><span class="o">);</span>

        <span class="n">NSLayoutConstraint</span> <span class="n">cn1</span> <span class="o">=</span> <span class="n">NSLayoutConstraint</span><span class="o">.</span><span class="na">constraintWithItemAttributeRelatedByToItemAttributeMultiplierConstant</span><span class="o">(</span>
                        <span class="n">label</span><span class="o">,</span> <span class="n">NSLayoutAttribute</span><span class="o">.</span><span class="na">CenterX</span><span class="o">,</span>
                        <span class="n">NSLayoutRelation</span><span class="o">.</span><span class="na">Equal</span><span class="o">,</span>
                        <span class="n">view</span><span class="o">(),</span> <span class="n">NSLayoutAttribute</span><span class="o">.</span><span class="na">CenterX</span><span class="o">,</span>
                        <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>

        <span class="n">NSLayoutConstraint</span> <span class="n">cn2</span> <span class="o">=</span> <span class="n">NSLayoutConstraint</span><span class="o">.</span><span class="na">constraintWithItemAttributeRelatedByToItemAttributeMultiplierConstant</span><span class="o">(</span>
                <span class="n">label</span><span class="o">,</span> <span class="n">NSLayoutAttribute</span><span class="o">.</span><span class="na">CenterY</span><span class="o">,</span>
                <span class="n">NSLayoutRelation</span><span class="o">.</span><span class="na">Equal</span><span class="o">,</span>
                <span class="n">view</span><span class="o">(),</span> <span class="n">NSLayoutAttribute</span><span class="o">.</span><span class="na">CenterY</span><span class="o">,</span>
                <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>

        <span class="n">view</span><span class="o">().</span><span class="na">addConstraint</span><span class="o">(</span><span class="n">cn1</span><span class="o">);</span>
        <span class="n">view</span><span class="o">().</span><span class="na">addConstraint</span><span class="o">(</span><span class="n">cn2</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="third-step-instantiate-uiviewcontroller">
<h2>Third step: Instantiate UIViewController<a class="headerlink" href="#third-step-instantiate-uiviewcontroller" title="Permalink to this headline">¶</a></h2>
<p>There are to way to specify how view controller should be instantiate:</p>
<p>Manually from code
Programmer has possibility to manage window, instantiate controllers and set it to drawing directly from java code. In that case no need to use storyboard for specifying initial view controller and other segue logic because it implemented in code. Short sample code demonstrating this approach is next, just put it to UIApplicationDelegate implementation:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="nd">@Selector</span><span class="o">(</span><span class="s">&quot;application:didFinishLaunchingWithOptions:&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">applicationDidFinishLaunchingWithOptions</span><span class="o">(</span><span class="n">UIApplication</span> <span class="n">application</span><span class="o">,</span> <span class="n">NSDictionary</span> <span class="n">launchOptions</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// Get current main screen</span>
        <span class="n">UIScreen</span> <span class="n">screen</span> <span class="o">=</span> <span class="n">UIScreen</span><span class="o">.</span><span class="na">mainScreen</span><span class="o">();</span>
        <span class="c1">// Get sizes of the main screen</span>
        <span class="n">CGRect</span> <span class="n">bounds</span> <span class="o">=</span> <span class="n">screen</span><span class="o">.</span><span class="na">bounds</span><span class="o">();</span>

        <span class="c1">// Create new UIWindow and init it</span>
        <span class="n">window</span> <span class="o">=</span> <span class="n">UIWindow</span><span class="o">.</span><span class="na">alloc</span><span class="o">().</span><span class="na">init</span><span class="o">();</span>
        <span class="n">window</span><span class="o">.</span><span class="na">setFrame</span><span class="o">(</span><span class="n">bounds</span><span class="o">);</span>

        <span class="c1">// Set root view controller</span>
        <span class="n">MyViewController</span> <span class="n">vc</span> <span class="o">=</span> <span class="n">MyViewController</span><span class="o">.</span><span class="na">alloc</span><span class="o">().</span><span class="na">init</span><span class="o">();</span>
        <span class="n">window</span><span class="o">.</span><span class="na">setRootViewController</span><span class="o">(</span><span class="n">vc</span><span class="o">);</span>

        <span class="n">window</span><span class="o">.</span><span class="na">makeKeyAndVisible</span><span class="o">();</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>With using Storyboard
Storyboard is a very flexible and commonly used approach to handling UI layouts and relationships between scenes. More useful information about storyboard and its features can be found in next <a class="reference external" href="https://developer.apple.com/library/ios/recipes/xcode_help-IB_storyboard/Chapters/AboutStoryboards.html">article</a>.</p>
<p>Multi-OS engine approach is fully compatible with storyboard ideology and programmer can combine it with storyboard obtained in any convenient manner like with using Xcode or UI designer supplied from MOE installer. Main condition is in that storyboard should refers on view controllers by the name specified in corresponding class annotation <code class="docutils literal"><span class="pre">&#64;ObjCClassName</span></code> and <code class="docutils literal"><span class="pre">&#64;RegisterOnStartup</span></code> annotation should be also applied.</p>
<p>Sample of storyboard created in Xcode is in a picture below.</p>
<img alt="../../../_images/simple_storyboard.png" src="../../../_images/simple_storyboard.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Worth noting that existing controller is an initial and view controller class name is the same that we used in java annotation.</p>
</div>
<p>Such storyboard should be added to MOE project to Info.plist as <em>Main storyboard file base name</em> field .</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../using_ios_frameworks/using_ios_frameworks.html" class="btn btn-neutral float-right" title="Using iOS Frameworks and 3rd party libraries" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../iOS_app_development.html" class="btn btn-neutral" title="iOS apps development" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Intel Corporation.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>